<html>

<head>
    <title>Login</title>
</head>

<body>
    <div id="login-form-content">
        <form id="my-form">
            <label for="phone">Phone number:</label>
            <input type="text" id="phone" name="phone" value=""><br><br>
            <button type="submit">Generate OTP</button>
        </form>
    </div>

</body>

<script>
    console.log('server')
    let sform = document.getElementById('my-form');
    console.log(sform)
    sform.addEventListener('submit', async (event) => {
        console.log('idhar')
        event.preventDefault(); // prevent default form submission behavior
        const phoneNumber = document.getElementById('phone').value;
        console.log(phoneNumber)

        const response = await fetch('http://localhost:8000/auth/generateOtp', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                phoneNumber: phoneNumber,
                userType: "CUSTOMER"
            })
        });

        const data = await response.text();

        const div = document.createElement('div');
        div.innerHTML = data;
        const divToReplace = document.getElementById("login-form-content")
        divToReplace.innerHTML ="";
        divToReplace.appendChild(div);
        console.log('idharich', data)
        // handle response data
    });
</script>

</html>